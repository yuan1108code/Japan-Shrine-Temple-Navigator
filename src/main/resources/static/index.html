<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>福井神社導航 - Japan Shrine Navigator</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- 導航欄 -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-primary">
        <div class="container">
            <a class="navbar-brand" href="#">
                <i class="fas fa-torii-gate me-2"></i>
                福井神社導航
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="#search-section">搜尋</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#ask-section">問答</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#geofence-section">地理位置</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#about-section">關於</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- 主要內容 -->
    <main class="container my-5">
        <!-- 歡迎區塊 -->
        <div class="hero-section text-center mb-5">
            <h1 class="display-4 fw-bold text-primary">
                <i class="fas fa-torii-gate"></i>
                探索福井的神社與景點
            </h1>
            <p class="lead">透過 AI 智慧問答，發現福井縣的文化寶藏</p>
            <div class="api-status mt-3">
                <span id="api-status" class="badge bg-secondary">檢查中...</span>
            </div>
        </div>

        <!-- 搜尋區塊 -->
        <section id="search-section" class="mb-5">
            <div class="card shadow-sm">
                <div class="card-header bg-primary text-white">
                    <h3 class="card-title mb-0">
                        <i class="fas fa-search me-2"></i>
                        景點搜尋
                    </h3>
                </div>
                <div class="card-body">
                    <form id="search-form">
                        <div class="row">
                            <div class="col-md-8">
                                <input type="text" class="form-control" id="search-input" 
                                       placeholder="輸入關鍵詞搜尋神社、景點..." required>
                            </div>
                            <div class="col-md-2">
                                <select class="form-select" id="search-category">
                                    <option value="">所有類別</option>
                                    <option value="神社">神社</option>
                                    <option value="寺廟">寺廟</option>
                                    <option value="景點">景點</option>
                                    <option value="美食">美食</option>
                                </select>
                            </div>
                            <div class="col-md-2">
                                <button type="submit" class="btn btn-primary w-100">
                                    <i class="fas fa-search"></i> 搜尋
                                </button>
                            </div>
                        </div>
                    </form>
                    <div id="search-results" class="mt-4"></div>
                </div>
            </div>
        </section>

        <!-- AI 問答區塊 -->
        <section id="ask-section" class="mb-5">
            <div class="card shadow-sm">
                <div class="card-header bg-success text-white">
                    <h3 class="card-title mb-0">
                        <i class="fas fa-robot me-2"></i>
                        AI 智慧問答
                    </h3>
                </div>
                <div class="card-body">
                    <form id="ask-form">
                        <div class="row">
                            <div class="col-md-10">
                                <input type="text" class="form-control" id="ask-input" 
                                       placeholder="詢問關於福井神社和景點的任何問題..." required>
                            </div>
                            <div class="col-md-2">
                                <button type="submit" class="btn btn-success w-100">
                                    <i class="fas fa-paper-plane"></i> 提問
                                </button>
                            </div>
                        </div>
                    </form>
                    <div id="ask-results" class="mt-4"></div>
                </div>
            </div>
        </section>

        <!-- 推薦功能 -->
        <section id="recommendation-section" class="mb-5">
            <div class="card shadow-sm">
                <div class="card-header bg-warning text-dark">
                    <h3 class="card-title mb-0">
                        <i class="fas fa-star me-2"></i>
                        個人化推薦
                    </h3>
                </div>
                <div class="card-body">
                    <form id="recommendation-form">
                        <div class="row">
                            <div class="col-md-4">
                                <label class="form-label">偏好類別</label>
                                <select class="form-select" id="rec-category">
                                    <option value="">不限</option>
                                    <option value="神社">神社</option>
                                    <option value="寺廟">寺廟</option>
                                    <option value="景點">景點</option>
                                    <option value="美食">美食</option>
                                </select>
                            </div>
                            <div class="col-md-4">
                                <label class="form-label">興趣標籤</label>
                                <input type="text" class="form-control" id="rec-interests" 
                                       placeholder="例如：歷史、文化、自然">
                            </div>
                            <div class="col-md-4">
                                <label class="form-label">&nbsp;</label>
                                <button type="submit" class="btn btn-warning w-100">
                                    <i class="fas fa-magic"></i> 獲取推薦
                                </button>
                            </div>
                        </div>
                    </form>
                    <div id="recommendation-results" class="mt-4"></div>
                </div>
            </div>
        </section>

        <!-- 地理位置功能 -->
        <section id="geofence-section" class="mb-5">
            <div class="card shadow-sm">
                <div class="card-header bg-info text-white">
                    <h3 class="card-title mb-0">
                        <i class="fas fa-map-marker-alt me-2"></i>
                        地理位置服務
                    </h3>
                </div>
                <div class="card-body">
                    <div class="row">
                        <div class="col-md-6">
                            <button id="get-location-btn" class="btn btn-info w-100 mb-3">
                                <i class="fas fa-crosshairs"></i> 獲取當前位置
                            </button>
                            <div id="location-info" class="mb-3"></div>
                        </div>
                        <div class="col-md-6">
                            <button id="find-nearby-btn" class="btn btn-outline-info w-100 mb-3" disabled>
                                <i class="fas fa-search-location"></i> 尋找附近景點
                            </button>
                            <div id="nearby-results"></div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- 統計資訊 -->
        <section id="stats-section" class="mb-5">
            <div class="card shadow-sm">
                <div class="card-header bg-secondary text-white">
                    <h3 class="card-title mb-0">
                        <i class="fas fa-chart-bar me-2"></i>
                        系統資訊
                    </h3>
                </div>
                <div class="card-body">
                    <div id="stats-content">
                        <button id="load-stats-btn" class="btn btn-secondary">
                            <i class="fas fa-refresh"></i> 載入統計資訊
                        </button>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- 關於區塊 -->
    <section id="about-section" class="bg-light py-5">
        <div class="container">
            <div class="row">
                <div class="col-lg-8 mx-auto text-center">
                    <h2 class="mb-4">關於福井神社導航</h2>
                    <p class="lead">
                        這是一個結合人工智慧技術的福井旅遊導航系統，為您提供：
                    </p>
                    <div class="row mt-4">
                        <div class="col-md-4 mb-3">
                            <div class="feature-box">
                                <i class="fas fa-search fa-3x text-primary mb-3"></i>
                                <h5>語義搜尋</h5>
                                <p>使用向量相似度進行精準的內容搜尋</p>
                            </div>
                        </div>
                        <div class="col-md-4 mb-3">
                            <div class="feature-box">
                                <i class="fas fa-robot fa-3x text-success mb-3"></i>
                                <h5>AI 問答</h5>
                                <p>基於 GPT 的智慧問答系統</p>
                            </div>
                        </div>
                        <div class="col-md-4 mb-3">
                            <div class="feature-box">
                                <i class="fas fa-map-marked-alt fa-3x text-info mb-3"></i>
                                <h5>地理服務</h5>
                                <p>位置感知的地理柵欄功能</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- 頁腳 -->
    <footer class="bg-dark text-white py-4">
        <div class="container text-center">
            <p>&copy; 2025 福井神社導航系統. 技術支援：Claude Code</p>
        </div>
    </footer>

    <!-- Loading Modal -->
    <div class="modal fade" id="loadingModal" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog modal-sm">
            <div class="modal-content">
                <div class="modal-body text-center py-4">
                    <div class="spinner-border text-primary" role="status">
                        <span class="visually-hidden">載入中...</span>
                    </div>
                    <p class="mt-3 mb-0">處理中，請稍候...</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <!-- 自定義 JavaScript -->
    <script src="app.js"></script>
</body>
</html>